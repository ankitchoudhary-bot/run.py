name: Tune Hyperparameters
description: Generic hyperparameter tuning using Katib for a given model type.

inputs:
  - name: model_type
    type: String
    description: "Choose one of ['sklearn', 'xgboost', 'pytorch']"
  
  - name: image
    type: String
    description: "Docker image of model for tuning"
    default: ankitdockerhubprofile/katib-run:latest

outputs:
  - name: best_hyperparams
    type: JsonArray

implementation:
  container:
    image: {inputValue: image}
    command:
      - python3
      - run.py
      - --model_type
      - {inputValue: model_type}
      - --best_hyperparams
      - {outputPath: best_hyperparams}

