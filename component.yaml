name: Tune Hyperparameters
description: Generic hyperparameter tuning using Katib for a given model type.

inputs:
  - name: model_type
    type: String
    description: "Choose one of ['sklearn', 'xgboost', 'pytorch']"

outputs:
  - name: best_hyperparams
    type: JsonArray

implementation:
  container:
    image: docker.io/ankitdockerhubprofile/mnist-ff-trainer:latest
    imagePullPolicy: Always
    command:
      - python3
      - run.py
      - --model_type
      - {inputValue: model_type}
      - --best_hyperparams
      - {outputPath: best_hyperparams}

